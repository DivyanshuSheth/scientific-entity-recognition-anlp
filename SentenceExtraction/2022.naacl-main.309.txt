
Hung Thinh TruongTimothy BaldwinTrevor CohnKarin VerspoorThe University of Melbourne,RMIT University,MBZUAI , , ,
Abstract
Negation is a common linguistic feature that is
crucial in many language understanding tasks,
yet it remains a hard problem due to diversity
in its expression in different types of text. Re-
cent work has shown that state-of-the-art NLP
models underperform on samples containing
negation in various tasks, and that negation
detection models do not transfer well across
domains. We propose a new negation-focused
pre-training strategy, involving targeted data
augmentation and negation masking, to better
incorporate negation information into language
models. Extensive experiments on common
benchmarks show that our proposed approach
improves negation detection performance and
generalizability over the strong baseline Neg-
BERT (Khandelwal and Sawant, 2020).
1 Introduction
Negation is an important linguistic phenomenon
that appears commonly in natural language but
is underrepresented in common NLP benchmarks
(Hossain et al., 2020). Furthermore, the Checklist
benchmark (Ribeiro et al., 2020) shows that most
sentiment analyzers and machine comprehension
models struggle with samples containing negation.
Negation is even more important in biomedical
domain text, where patients are carefully defined
as having/not having specific characteristics. Even
within the biomedical domain, there are many types
of text such as clinical notes, lab reports, or re-
search publications, each with particular character-
istics in relation to the use of negation. A recent
study on English texts found that negation detection
models do not transfer well across domains, due to
variations in expression of negation (Khandelwal
and Sawant, 2020). It remains a challenge to solve
negation in general, even with state-of-the-art NLP
models.
Negation detection is typically defined as con-
sisting of the two sub-tasks of: (1) cue detection,detecting the cue phrase that triggers the negation;
and (2) scope resolution, determining the affected
spans that are negated. There are three primary
datasets that have been used to evaluate negation:
(1) the BioScope corpus (Vincze et al., 2008) in-
cludes full papers and abstracts of biological pa-
pers; (2) the SFU corpus (Konstantinova et al.,
2012) is a collection of product reviews; and (3) the
Sherlock dataset (Morante and Blanco, 2012) con-
sists of short literary works. There are differences
in annotation schemes across the datasets, such as
whether or not the cues are included inside scope
annotation, and sub-optimal cross-dataset results
have been observed, providing clear indications
that the datasets are highly divergent in language
use and negation types.
In this work, we aim to extend the transfer
learning capability of NegBERT (Khandelwal and
Sawant, 2020) through additional pre-training with
task-related augmented training data, and a new
masking objective. Our contributions are:
•We introduce an approach to augmenting data
to emphasize negation in pre-training.
•We propose a novel extension to the standard
random masked language model objective in
pre-training to explicitly mask negation cues,
to make the models more robust to negation.
•We conduct extensive experiments on dif-
ferent benchmarks to evaluate cross-domain
performance of large pre-trained language
models as well as the effectiveness of the pro-
posed pre-training strategies; code is available
athttps://github.com/joey234/
negation-focused-pretraining .
2 Related work
To date, negation detection has been heavily reliant
on rule-based systems. Chapman et al. (2001) pro-
posed a simple system, NegEx, based on regular
expressions to detect negation cues in a sentence
given a concept of interest (the scope). NegEx re-4188mains the most popular approach to negation detec-
tion, especially in the clinical domain to determine
the polarity of clinical concepts (e.g., as sourced
from MetaMap (Aronson and Lang, 2010)). Fur-
ther research has extended NegEx with syntactic in-
formation (Mehrabi et al., 2015; Peng et al., 2018),
and shown that rule-based systems can achieve rel-
atively good performance for detecting negation,
especially in the biomedical domain, but do not
generalize well to other domains or datasets.
To approach negation cue and negation scope
detection with supervised machine learning, two
classification tasks are defined: (1) finding nega-
tion tokens, and (2) classifying tokens as the first or
last (or neither) token within the scope of negation.
Most work follows a common scheme in extracting
various features from the sentence, and using a clas-
sifier to classify each token as the beginning, inside,
or outside of a negation cue or scope span (Morante
and Daelemans, 2009; Ou and Patrick, 2015; Cruz
et al., 2016). Recently, research has shifted to ap-
plying deep learning methods to the task. Most
approaches make use of RNN-based architectures
to encode the input sentences, combined with a
softmax layer for classification (Lazib et al., 2019;
Chen, 2019). Despite the high performance on
common benchmarks, results are biased by the fact
that negation scope is often delimited by punctu-
ation and other dataset artefacts (Fancellu et al.,
2017). As such, they are potentially only learning
domain-specific surface features rather than cap-
turing the true semantics of negation. NegBERT
applies a large pre-trained language model to the
problem of negation detection, outperforming pre-
vious deep learning methods on negation detection,
with especially high gains on scope resolution.
3 Method
Our proposed pre-training strategy consists of two
main components: (1) negation-focused data col-
lection in which we first collect relevant data that
contains negation; and (2) negation-focused pre-
training that makes use of the negation-focused
data to emphasize negation instances, and adopts a
novel negation-specific masking strategy.
3.1 Negation-focused data collection
We aim to construct a dataset that is enriched
with negation information, to support negation-
sensitized pre-training of large language models.
To obtain sentences with negations, we extend theNegEx lexicon with additional negation cues ob-
tained from biomedical texts (Morante, 2010), and
apply it to sentences extracted from a corpus us-
ing the SpaCy English sentence tokenizer, keeping
only those sentences with at least one identified
negation cue.
For the biomedical domain, we use texts in the
TREC-CDS 2021 snapshotof the clinical trials
registry.Clinical trials are documents describing
the protocols and relevant patient characteristics of
a clinical research study. Descriptions of clinical
trials can be quite long, but a core aspect of the
trial description is the patient inclusion/exclusion
criteria, specifying what types of characteristics or
conditions a patient must have/not have in order
to be suitable for the trial. The reasons for choos-
ing this data are that: (1) it is in-domain for the
biomedical domain; (2) the texts are well-formed
sentences with proper grammatical structure; and
(3) the texts contain many negations, especially in
the inclusion/exclusion criteria sections. For the
general domain, we apply this approach to wikitext
(Merity et al., 2016), a set of verified articles in
Wikipedia. We sample the data equally from these
two sets, obtaining 1,381,948negation sentences.
3.2 Negation-focused pre-training
Adaptive pre-training on target domain data has
been shown to be an effective strategy for domain
adaptation (Gururangan et al., 2020). We therefore
hypothesize that pre-training language models on
text with negations will help the model incorpo-
rate information about negation, and learn better
representations for sentences containing negation.
Using the negation-focused data, we first apply the
standard random word masking strategy (Devlin
et al., 2019) and train the model with the masked
language model objective.
As part of the collection of the negation-focused
data, we obtain predictions of negation cues in all
the sentences, which can be explicitly incorporated
to make the model more robust to negation. In-
spired by work on entity and span masking (Joshi
et al., 2020; Yamada et al., 2020), we explore ex-
plicitly incorporating information about negation
cues into the model by masking these cues, and
targeting prediction of the masked cue in the pre-
training stage. Below is an example of how a sen-
tence is tokenized under our masking scheme:4189No serious complications such as hypertension, di-
abetes. ⇒[CUE] serious complications such as
[MASK] , diabetes.
A new type of token [CUE] is introduced un-
der this masking scheme, and the model needs
to reconstruct the original sentence by predicting
both the [CUE] token to be No, and the randomly-
masked token [MASK] to be hypertension . By
always masking negation cues in all the sentences,
we force the model to focus more on this type of
token, and thus, aim to learn better embeddings
incorporating information of how a negation cue is
represented in the context of the sentence. More-
over, by using a different token to mask negation
cues, we ensure that the model learns to distinguish
between different types of tokens. In this work,
we replace the BERT encoder of NegBERT with
RoBERTa (Liu et al., 2019) and apply whole-word
masking, meaning that all the sub-word tokens that
constitute a word will be masked.
4 Experiments
4.1 Experimental settings
Following the experimental settings in NegBERT,
we use the three standard benchmarks for nega-
tion cue detection and scope resolution tasks, i.e.
BioScope (Vincze et al., 2008) (separated into two
subsets, sourced from abstracts and full-text pa-
pers, resp.), the SFU product reviews dataset (Kon-
stantinova et al., 2012), and the Sherlock dataset
(Morante and Blanco, 2012). In addition, we use
the negation-annotated subset of VetCompass UK
(Cheng et al., 2017), consisting of clinical notes
in the veterinary domain, which are very informal
compared to BioScope. It also contains abbrevi-
ations and shortening of terms, as well as certain
unique negation cues. To investigate cross-domain
performance, we perform cue detection and scope
resolution for all 4 datasets, based on training on
one dataset and evaluating on all datasets. Detailed
statistics of these datasets are presented in Table 1.
Note that we do not experiment with the setting of
training with all the combined training data from
the corpora as it has been pointed out by previous
work that doing so hurts the performance of the
models (Jiménez-Zafra et al., 2020; Barnes et al.,
2021) due to differences in annotation schemes be-
tween the corpora introducing noise during training.
Re-annotating all the datasets using a common an-
notation scheme would be a potential solution here,Dataset #sentences #negations #unique
cues
BioScope-
Abstract11871 1719 28
BioScope-
FullPaper2670 376 18
SFU 17263 3527 53
Sherlock 5520 1421 30
VetCompass 6582 724 26
which we leave for future work.
We formulate the two tasks as sequence label-
ing problems, where each token is tagged with a
corresponding label. For cue detection, we use the
annotation scheme {0: Affix, 1: Normal Cue, 2:
Part of multiword cue, 3: Not part of cue} . For
scope resolution, we use gold cue information and
two labels {0: Outside negation scope, 1: Part
of negation scope} . We adopt the same hyper-
parameters as NegBERT. Following the standard
evaluation scheme in previous negation detection
works, all systems are evaluated using token-level
F-score, based on whether it is inside or outside
of any negation cue or scope. Methods evaluated
include: (1) NegBERT ; (2)AugNB = NegBERT
plus pre-training on negation-focused data; and (3)
CueNB = NegBERT plus pre-training on negation-
focused data and the negation cue masking objec-
tive. Note that for NegBERT, we also replace the
BERT encoder with RoBERTa to ensure results are
comparable between the models.
4.2 Main results
Tables 2 and 3 report the performance of negation
cue detection and negation scope resolution, respec-
tively. Results reported are the average of 5 runs
with different random seeds. NegBERT results are
produced using the official implementation.To
provide a more general view, we summarize the
results in Table 4. In general, we observe gains
in both the same-dataset setting (training and test
set belongs to one corpus) and cross-dataset setting
(training one one training set and testing on all oth-
ers test sets) for both of the proposed models, with
CueNB achieving the largest gains.
We observe similar trends across all datasets for4190
TaskSame-dataset results Cross-dataset results
NegBERT AugNB CueNB NegBERT AugNB CueNB
Cue Detection 90.55 +0.36 +1.34 69.61 +2.21 +3.31
Scope Resolution 90.56 +0.59 +1.62 73.41 +0.95 +1.72
both cue detection and scope resolution. Regarding
the in-dataset setting, AugNB outperforms the base-
line NegBERT on all datasets except for Sherlock.
Gains are more noticeable over the biomedical
datasets (BioScope, VetCompass). For Sherlock,
however, we observe a slight degradation in per-
formance with the proposed pre-training scheme.
This is likely due to the fact that Sherlock has ma-
jor differences in annotation scheme compared to
other corpora, specifically including scopes to the
left of cues, while in BioScope and SFU, the scope
is usually annotated only to the right of cues. Also,
the cue itself is not considered to be part of the
scope in Sherlock or SFU, unlike in BioScope.
In the cross-dataset setting, we record gains
across all benchmarks. The largest cross-dataset
improvements over NegBERT are for SFU, per-
haps due to SFU being the largest dataset in size,
containing a relatively large number of unique
cues. CueNB further improves the performance
of AugNB, confirming our hypothesis that explic-
itly masking the cue helps the model learn better
representations for negation cues and thus, better
distinguish between cues and normal words. These
results show that our negation-focused pre-training
strategy is effective for improving the transfer learn-
ing performance of pre-trained language models on
the negation detection task.4.3 Discussion
We conducted an error analysis on the VetCompass
validation set to see what qualitative improvement
CueNB makes over NegBERT. For cue detection,
there are two main types of errors that CueNB helps
alleviate. First, CueNB can detect more unique
cues such as negative ,won’t , and also multiword
cues like no longer . Second, CueNB is able to
recognize cases when the negations are actually
just speculative. For example, in the sentence O
reports has smelled for past week, not sure if anal
glands . . . , the word notis part of the speculation
phrase not sure , indicating that this is not truly a
negation phrase but rather expresses uncertainty.
For scope resolution, CueNB mostly helps in rec-
ognizing the correct scope boundary. One common
case is when the cue relates to multiple spans in
a sentence. In the sentence Examination: QAR,
thorac ausc and abdo palp NAD ,NegBERT only
recognizes the nearest span abdo palp NAD to be
the scope, whereas CueNB recognizes the full cor-
rect span thorac ausc and abdo palp NAD . It also
helps in cases where there are multiple separate
negations in the same sentence. For instance, in the4191Model Cue Scope
NegBERT 94.46 95.34
+negation-focused data 95.36 95.94
+explicit cue masking 95.58 96.03
CueNB 95.87 96.76
sentence No V +or no D +., the phrases No V +and
no D +are two independent negation scope spans,
while NegBERT would recognize the whole sen-
tence as a single span. Another interesting case is
when there are exceptions in the sentence, e.g. the
No . . . other than . . . construction. For No probs
detected other than the skin lesions , CueNB is able
to recognize the correct scope No probs detected
while NegBERT considers the whole sentence to
be the scope.
We also conduct an ablation study to understand
the impact of each component of the proposed pre-
training strategy. Table 5 presents the results of
different variations of the proposed pre-training
scheme on the BioScope-Abstract validation split.
We consider two variations, pre-training with: (1)
only the negation-focused data (equivalent to the
AugNB model); and (2) only the cue masking ob-
jective. To model the latter variation, we explicitly
mask the cue in the BioScope training set, then pre-
train on this training set. From the results, we see
that both strategies help improve the baseline Neg-
BERT on cue detection and scope resolution, with
explicitly masking the cues being the most impor-
tant. Combining both strategies (CueNB) further
improves the overall results.
5 Conclusion
In this work, we propose a new negation-focused
pre-training strategy to explicitly incorporate nega-
tion information into pre-trained language models.
Empirical results on common benchmarks show
that the proposed strategy helps improve the perfor-
mance of pre-trained language models on the nega-
tion detection task when evaluating on the same
source dataset, as well as their transferability to
target data in different domains. Despite the gains
over previous methods, the sub-optimal results on
some benchmarks show that negation remains a big
challenge in NLP.Acknowledgements
The authors would like to thank the anonymous
reviewers for their constructive reviews. This
research was undertaken using the LIEF HPC-
GPGPU Facility hosted at the University of Mel-
bourne. This Facility was established with the assis-
tance of LIEF Grant LE170100200. This research
was conducted by the Australian Research Council
Training Centre in Cognitive Computing for Med-
ical Technologies (project number ICI70200030)
and funded by the Australian Government.
References41924193